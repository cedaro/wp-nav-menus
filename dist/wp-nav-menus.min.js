/**
 * wp-nav-menus.js
 * https://github.com/cedaro/wp-nav-menus
 *
 * @copyright Copyright (c) 2016 Cedaro, LLC
 * @license MIT
 * @version 1.0.0
 */
(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.cedaroNavMenu=e()}})(function(){var e,t,n;return function e(t,n,i){function s(o,r){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!r&&a)return a(o,!0);if(u)return u(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return s(n?n:e)},c,c.exports,e,t,n,i)}return n[o].exports}var u=typeof require=="function"&&require;for(var o=0;o<i.length;o++)s(i[o]);return s}({1:[function(e,t,n){(function(n){"use strict";var i=typeof window!=="undefined"?window["jQuery"]:typeof n!=="undefined"?n["jQuery"]:null,s=e("./src/entry");if(i){i.fn.cedaroNavMenu=function(e){return this.each(function(){var t=s(this,e);t.initialize()})}}t.exports=s}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./src/entry":2}],2:[function(e,t,n){(function(n){"use strict";var i,s=e("./query"),u={},o=e("./nav-menu.js"),r=typeof window!=="undefined"?window["wp"]:typeof n!=="undefined"?n["wp"]:null;i=s.extend({collapseSubmenu:"Collapse submenu",expandSubmenu:"Expand submenu"},n._cedaroNavMenuL10n);function a(e){var t,n;if(!(e.partial.id in u)){return}n=u[e.partial.id];n.destroy();t=new o(e.container[0],n.options);t.initialize();e.removedNodes.find("."+n.options.expandedMenuItemClass).each(function(){e.container.find("#"+this.id).find("> .{class}, > a .{class}".replace(/{class}/g,n.options.submenuToggleClass)).trigger("click")})}if(r&&"customize"in r){r.customize.bind("preview-ready",function(){r.customize.selectiveRefresh.bind("partial-content-rendered",a)})}t.exports=function(e,t){var r,a;if(!("addEventListener"in n)){return}t=t||{};t.l10n=t.l10n||{};s.extend(t.l10n,i);r=new o(e,t);a=r.el.getAttribute("data-customize-partial-id");if(a){u[a]=r}return r}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./nav-menu.js":3,"./query":4}],3:[function(e,t,n){"use strict";var i=e("./query"),s=window.document;function u(e,t){var n=this;this.el=i(e)[0];this.options=i.extend({},u.defaults,t);this.el.setAttribute("data-nav-menu-options",JSON.stringify(this.options));Object.keys(Object.getPrototypeOf(this)).filter(function(e){return"function"===typeof n[e]&&0===e.indexOf("on")}).forEach(function(e){n[e]=n[e].bind(n)})}u.defaults={breakpoint:768,expandCurrentItem:false,hoverTimeout:50,l10n:{},submenuToggleInsert:"",submenuToggleMode:"hover",activeMenuItemClass:"is-active",expandedMenuItemClass:"is-sub-menu-open",expandedSubmenuClass:"is-open",expandedSubmenuToggleClass:"is-open",submenuToggleClass:"sub-menu-toggle"};u.prototype={_initialized:false,_hasExpandedSubmenu:false,_hoverTimeouts:[],_touchStarted:false,_viewportWidth:null,initialize:function(){var e=this;if(this._initialized){return}this._initialized=true;this.$items=i("li",this.el).each(function(e){e.id=i.getUid(e,"menu-item")});this.$submenus=i("li ul",this.el).each(function(e){e.setAttribute("aria-expanded","false")});if(false!==this.options.submenuToggleInsert){this.insertSubmenuToggleButtons()}s.addEventListener("click",this.onDocumentClick,true);this.el.addEventListener("click",this.onSubmenuToggleClick,false);if("hover"===this.options.submenuToggleMode){this.el.addEventListener("touchstart",this.onMenuLinkTouchStart,false);this.el.addEventListener("mouseover",this.onMenuItemMouseEnter,false);this.el.addEventListener("mouseout",this.onMenuItemMouseLeave,false)}this.el.addEventListener("focus",this.onMenuLinkFocus,true);this.el.addEventListener("blur",this.onMenuLinkBlur,true);if(e.options.expandCurrentItem&&("click"===e.options.submenuToggleMode||e.isMobile())){this.$items.filter(function(e){return e.classList.contains("current-menu-item")||e.classList.contains("current-menu-ancestor")}).each(function(t){e.expandSubmenu(t)})}return this},destroy:function(){s.removeEventListener("click",this.onDocumentClick,true);this.el.removeEventListener("click",this.onSubmenuToggleClick,false);this.el.removeEventListener("mouseover",this.onMenuItemMouseEnter,false);this.el.removeEventListener("mouseout",this.onMenuItemMouseLeave,false);this.el.removeEventListener("focus",this.onMenuLinkFocus,true);this.el.removeEventListener("blur",this.onMenuLinkBlur,true)},isMobile:function(){if("disable"===this.options.breakpoint){return true}return this.getViewportWidth()<this.options.breakpoint},collapseSubmenu:function(e){var t=this.getSubmenuToggle(e),n=i(".sub-menu",e);e.classList.remove(this.options.expandedMenuItemClass);if(t){t.classList.remove(this.options.expandedSubmenuToggleClass);t.setAttribute("aria-expanded","false");i(".screen-reader-text",t)[0].innerHTML=this.options.l10n.expandSubmenu||"Expand submenu"}if(n.length){n[0].classList.remove(this.options.expandedSubmenuClass);n[0].setAttribute("aria-expanded","false")}},collapseAllSubmenus:function(){var e=this;this.$items.each(function(t){t.classList.remove(e.options.activeMenuItemClass);e.collapseSubmenu(t)})},collapseUnrelatedSubmenus:function(e){var t=this;this.$items.each(function(n){if(!n.contains(e)){n.classList.remove(t.options.activeMenuItemClass);t.collapseSubmenu(n)}})},expandSubmenu:function(e){var t=this.getSubmenuToggle(e),n=i(".sub-menu",e);e.classList.add(this.options.activeMenuItemClass);if(!this.hasSubmenu(e)){return}e.classList.add(this.options.expandedMenuItemClass);if(t){t.classList.add(this.options.expandedSubmenuToggleClass);t.setAttribute("aria-expanded","true");i(".screen-reader-text",t)[0].innerHTML=this.options.l10n.collapseSubmenu||"Collapse submenu"}if(n.length){n[0].classList.add(this.options.expandedSubmenuClass);n[0].setAttribute("aria-expanded","true")}},getViewportWidth:function(){return this._viewportWidth||Math.max(s.documentElement.clientWidth,window.innerWidth||0)},setViewportWidth:function(e){this._viewportWidth=parseInt(e,10);return this},getSubmenuToggle:function(e){return i("."+this.options.submenuToggleClass,e)[0]},hasSubmenu:function(e){return i(".sub-menu",e).length>0},insertSubmenuToggleButtons:function(){var e,t,n=this;e=s.createElement("button");e.setAttribute("class",n.options.submenuToggleClass);e.setAttribute("aria-expanded","false");t=s.createElement("span");t.setAttribute("class","screen-reader-text");t.innerHTML=this.options.l10n.expandSubmenu||"Expand submenu";e.appendChild(t);this.$submenus.each(function(t){var s=e.cloneNode(true);if(!t.id){t.id=i.getUid(t,"sub-menu")}s.setAttribute("aria-controls",t.id);if("append"!==n.options.submenuToggleInsert){t.parentElement.insertBefore(s,t);return}i(t.parentElement.children).each(function(e){if("A"===e.nodeName){e.appendChild(s);return false}})})},isSubmenuExpanded:function(e){return e.classList.contains(this.options.expandedMenuItemClass)},toggleSubmenu:function(e){if(this.isSubmenuExpanded(e)){this.collapseSubmenu(e)}else{this.expandSubmenu(e)}},onDocumentClick:function(e){if("click"===this.options.submenuToggleMode||this.isMobile()){return}if(this.el===e.target||!this.el.contains(e.target)){this.collapseAllSubmenus()}},onSubmenuToggleClick:function(e){var t,n=i(e.target).closest("."+this.options.submenuToggleClass,this.el);if(!n){return}e.preventDefault();t=i(e.target).closest("li",this.el);this.toggleSubmenu(t)},onMenuLinkTouchStart:function(e){var t,n;if(!i.isElementOrDescendant(e.target,"A",this.el)){return}n=i(e.target).closest("li",this.el);if(!n){return}if(!this.hasSubmenu(n)||this.isSubmenuExpanded(n)){return}t=this.getSubmenuToggle(n);if(!i.isClickable(t)){e.stopImmediatePropagation();e.preventDefault();this.expandSubmenu(n);this.collapseUnrelatedSubmenus(e.target)}else{this._touchStarted=true}},onMenuItemMouseEnter:function(e){var t,n,s=this._touchStarted,u=this;this._isTouchStarted=false;n=i(e.target).closest("li",this.el);t=i(e.relatedTarget).closest("li",this.el);if(!n||t===n){return}i(e.target).up("li",this.el).each(function(e){clearTimeout(u._hoverTimeouts[e.id]);e.classList.add(u.options.activeMenuItemClass)});if(!this.hasSubmenu(n)||this.isSubmenuExpanded(n)){return}if(!s||!i.isElementOrDescendant(e.target,"A",this.el)){if(!this.isMobile()){this.expandSubmenu(n)}}},onMenuItemMouseLeave:function(e){var t=this,n=t.isMobile();i(e.target).up("li",this.el).filter(function(t){return t!==e.relatedTarget&&!t.contains(e.relatedTarget)}).each(function(e){e.classList.remove(t.options.activeMenuItemClass);if(n){return}t._hoverTimeouts[e.id]=setTimeout(function(){t.collapseSubmenu(e)},t.options.hoverTimeout)})},onMenuLinkFocus:function(e){var t,n,s=this;if("click"!==s.options.submenuToggleMode&&!s.isMobile()){s.collapseUnrelatedSubmenus(e.target)}n=i(e.target).parents("li",s.el).each(function(e){e.classList.add(s.options.activeMenuItemClass)});if(!s.hasSubmenu(n[0])){return}t=this.getSubmenuToggle(n[0]);if(!t||!i.isVisible(t)){n.each(function(e){s.expandSubmenu(e)})}},onMenuLinkBlur:function(e){var t=this;i(e.target).parents("li",t.el).each(function(e){e.classList.remove(t.options.activeMenuItemClass)});if(!e.relatedTarget){return}if("click"===t.options.submenuToggleMode||t.isMobile()){return}t.collapseUnrelatedSubmenus(e.relatedTarget)}};t.exports=u},{"./query":4}],4:[function(e,t,n){"use strict";var i=e("./utils");function s(e,t){var n,i;if(e instanceof s){return e}if(!e){return this}t=t||document;if(t.length){t=t[0]}if("string"===typeof e){e=t.querySelectorAll(e)}if(e&&e.nodeType){this.length=1;this[0]=e}else{e=Array.prototype.slice.call(e);i=this.length=e.length;for(n=0;n<i;n++){this[n]=e[n]}}}i.extend(s.prototype,{length:0,closest:function(e,t){var n=this[0];t=t||document.body;while(n&&n!==t){if(i.matches(n,e)){return n}n=n.parentElement}return null},each:function(e){i.each(this,e);return this},filter:function(e){return u(Array.prototype.filter.call(this,e))},find:function(e){return u(this[0].querySelectorAll(e))},parents:function(e,t){var n=this[0],s=[];t=t||document.body;while(n&&n.parentElement&&n.parentElement!==t){if(i.matches(n.parentElement,e)){s.push(n.parentElement)}n=n.parentElement}return u(s)},up:function(e,t){var n=Array.prototype.slice.call(this.parents(e,t));if(i.matches(this[0],e)){n.unshift(this[0])}return u(n)}});function u(e,t){return new s(e,t)}t.exports=i.extend(u,i,{isClickable:function(e){var t;if(!e){return false}t=window.getComputedStyle(e);return"none"!==t.display&&"none"!==t.pointerEvents},isElementOrDescendant:function(e,t,n){return t===e.nodeName||null!==u(e).closest(t,n)},isVisible:function(e){return e&&"none"!==window.getComputedStyle(e).display}})},{"./utils":5}],5:[function(e,t,n){"use strict";function i(e,t){var n,i=e.length;for(n=0;n<i;n++){if(false===t.call(e[n],e[n],n)){break}}}function s(e){var t=0,n=arguments.length;e=e||{};while(++t<n){if(!arguments[t]){continue}for(var i in arguments[t]){if(arguments[t].hasOwnProperty(i)){e[i]=arguments[t][i]}}}return e}function u(e){e=e||"";if(""!==e){e+="-"}return e+Math.random().toString(36).slice(2,15)}function o(e,t){if(e.id){return e.id}return u(t)}function r(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}t.exports={each:i,extend:s,getUid:o,matches:r}},{}]},{},[1])(1)});